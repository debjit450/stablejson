# StableJSON v1.5 Documentation\n\n## Table of Contents\n\n1. [Getting Started](#getting-started)\n2. [Core Features](#core-features)\n3. [Performance Optimization](#performance-optimization)\n4. [Enhanced Diff Viewer](#enhanced-diff-viewer)\n5. [Custom Validation System](#custom-validation-system)\n6. [Keyboard Navigation](#keyboard-navigation)\n7. [Batch Processing](#batch-processing)\n8. [Advanced Export System](#advanced-export-system)\n9. [API Reference](#api-reference)\n10. [Troubleshooting](#troubleshooting)\n\n---\n\n## Getting Started\n\n### Quick Start\n1. Visit [stablejson.vercel.app](https://stablejson.vercel.app)\n2. Paste your JSON in the left panel\n3. Use the toolbar to format, validate, or transform your JSON\n4. View results in the right panel\n\n### Local Development\n```bash\ngit clone https://github.com/debjit450/stablejson.git\ncd stablejson\nnpm install\nnpm run dev\n```\n\n### Keyboard Shortcuts\nPress `Ctrl+/` (or `Cmd+/` on Mac) to see all available shortcuts.\n\n---\n\n## Core Features\n\n### JSON Processing\n- **Format**: Pretty-print JSON with proper indentation\n- **Minify**: Remove whitespace for compact JSON\n- **Validate**: Check JSON syntax and structure\n- **Clean**: Remove null, undefined, and empty values\n- **Sort**: Alphabetically sort object keys\n- **Canonical**: Generate deterministic JSON output\n\n### View Modes\n- **Code View**: Syntax-highlighted JSON editor\n- **Tree View**: Interactive foldable JSON explorer\n- **Table View**: Convert JSON arrays to tabular format\n- **Diff View**: Compare two JSON objects\n- **Types View**: Generate TypeScript, Zod, and JSON Schema\n\n---\n\n## Performance Optimization\n\n### Web Worker Processing\nLarge JSON operations (>100KB) automatically use Web Workers to prevent UI blocking:\n\n```javascript\n// Automatically handled for large files\nconst result = await MemoryEfficientJson.processLargeJson(largeJson, 'format');\n```\n\n### Memory-Efficient Processing\nFor extremely large files (>10MB), streaming algorithms are used:\n\n```javascript\nconst parser = new StreamingJsonParser();\nparser.parseChunk(chunk, (obj) => {\n  // Process each complete object\n});\n```\n\n### Performance Monitoring\nTrack operation performance:\n\n```javascript\nconst timer = PerformanceMonitor.startTimer('format');\n// ... perform operation\nconst duration = timer();\nconst metrics = PerformanceMonitor.getMetrics('format');\n```\n\n### Settings\n- **Performance Mode**: Enable for files >100KB\n- **Debounced Input**: Reduces processing during typing\n- **Throttled Operations**: Limits continuous operations\n\n---\n\n## Enhanced Diff Viewer\n\n### View Modes\n\n#### Side-by-Side View\n- Compare JSON objects side by side\n- Expandable diff sections\n- Color-coded changes\n- Before/after value display\n\n#### Unified View\n- Traditional unified diff format\n- Configurable context lines\n- Line-by-line comparison\n\n#### Inline View\n- Compact single-line diff display\n- Quick overview of all changes\n- Optional line numbers\n\n#### Statistics View\n- Change distribution charts\n- Performance metrics\n- Summary statistics\n\n### Filtering Options\n- **All Changes**: Show everything\n- **Added Only**: Show only additions\n- **Removed Only**: Show only deletions\n- **Modified Only**: Show only modifications\n- **Moved Only**: Show only moved elements\n\n### Advanced Options\n- **Structural Diff**: Compare structure vs values\n- **Line Numbers**: Show/hide line numbers\n- **Whitespace**: Show/hide whitespace changes\n- **Ignore Case**: Case-insensitive comparison\n- **Context Lines**: Number of context lines (0-10)\n\n### Export Options\n- Copy diff to clipboard\n- Export as JSON report\n- Include metadata and settings\n\n---\n\n## Custom Validation System\n\n### Rule Types\n\n#### Required Fields\n```javascript\n{\n  type: 'required',\n  path: '$.name',\n  condition: 'exists'\n}\n```\n\n#### Regular Expression\n```javascript\n{\n  type: 'regex',\n  path: '$.email',\n  condition: '^[\\\\w-\\\\.]+@([\\\\w-]+\\\\.)+[\\\\w-]{2,4}$'\n}\n```\n\n#### Numeric Range\n```javascript\n{\n  type: 'range',\n  path: '$.age',\n  condition: '0,150'\n}\n```\n\n#### Format Validation\n```javascript\n{\n  type: 'format',\n  path: '$.website',\n  condition: 'url' // email, url, uuid, date, time, datetime\n}\n```\n\n#### Custom Logic\n```javascript\n{\n  type: 'custom',\n  path: '$.score',\n  condition: 'value >= 0 && value <= 100'\n}\n```\n\n### JSONPath Support\nUse JSONPath expressions to target specific data:\n- `$.name` - Root level name field\n- `$.users[0].email` - First user's email\n- `$..email` - All email fields recursively\n- `$.users[*].age` - All user ages\n\n### Severity Levels\n- **Error**: Validation failures that should block processing\n- **Warning**: Issues that should be reviewed but don't block\n- **Info**: Informational messages for best practices\n\n### Rule Management\n- **Import/Export**: Share rule sets as JSON files\n- **Enable/Disable**: Toggle rules individually\n- **Categories**: Organize rules by purpose\n- **Templates**: Pre-built rule sets for common schemas\n\n---\n\n## Keyboard Navigation\n\n### Global Shortcuts\n\n| Shortcut | Action | Category |\n|----------|--------|---------|\n| `Ctrl+F` | Format JSON | JSON Operations |\n| `Ctrl+M` | Minify JSON | JSON Operations |\n| `Ctrl+S` | Sort keys | JSON Operations |\n| `Ctrl+Shift+C` | Clean JSON | JSON Operations |\n| `Ctrl+D` | Show diff | JSON Operations |\n| `Ctrl+T` | Table view | View Modes |\n| `Ctrl+G` | Generate types | Code Generation |\n| `Ctrl+K` | Command palette | Navigation |\n| `Ctrl+/` | Show shortcuts | Help |\n| `Ctrl+R` | Clear all | Utility |\n| `Ctrl+L` | Load sample | Utility |\n\n### Navigation Shortcuts\n\n| Shortcut | Action |\n|----------|---------|\n| `↑/↓` | Navigate items |\n| `Home` | First item |\n| `End` | Last item |\n| `Enter` | Execute action |\n| `Escape` | Close/Cancel |\n| `Tab` | Next element |\n| `Shift+Tab` | Previous element |\n\n### Accessibility Features\n- **Screen Reader Support**: Full ARIA compliance\n- **Focus Management**: Smart focus trapping\n- **High Contrast**: Enhanced visibility\n- **Keyboard Only**: Complete keyboard navigation\n\n### Customization\nAdd custom shortcuts programmatically:\n\n```javascript\nconst { addShortcut } = useKeyboardNavigation({\n  shortcuts: [...DEFAULT_JSON_SHORTCUTS, {\n    key: 'e',\n    ctrlKey: true,\n    description: 'Export JSON',\n    action: () => exportJson(),\n    category: 'Custom'\n  }]\n});\n```\n\n---\n\n## Batch Processing\n\n### Getting Started\n1. Switch to \"Batch\" mode\n2. Click \"Add Files\" to select JSON files\n3. Choose operation (Format, Minify, Validate, etc.)\n4. Configure settings\n5. Click \"Start Processing\"\n\n### Operations\n- **Format**: Pretty-print all files\n- **Minify**: Compress all files\n- **Validate**: Check syntax of all files\n- **Clean**: Remove null/empty values\n- **Sort**: Sort keys in all files\n\n### Settings\n\n#### Concurrency\n- **1 file**: Sequential processing\n- **2-3 files**: Balanced performance\n- **5-10 files**: Maximum speed (high CPU usage)\n\n#### Error Handling\n- **Continue on Error**: Process remaining files if one fails\n- **Stop on Error**: Halt processing on first error\n\n#### Output Options\n- **Auto Download**: Automatically download when complete\n- **ZIP Export**: Bundle results in ZIP file\n- **Include Report**: Add processing statistics\n\n### Progress Tracking\n- Real-time progress bar\n- Current file indicator\n- Success/error counts\n- Processing time estimates\n\n### Results\n- **Individual Files**: Download single processed files\n- **ZIP Bundle**: All files plus processing report\n- **Statistics**: Performance metrics and success rates\n\n---\n\n## Advanced Export System\n\n### Supported Formats\n\n#### JSON\n- Standard JSON format\n- Configurable indentation\n- Optional metadata inclusion\n\n#### YAML\n```yaml\nname: \"John Doe\"\nage: 30\nemail: \"john@example.com\"\n```\n- Flow style or block style\n- Configurable indentation\n- No references mode\n\n#### XML\n```xml\n<root>\n  <name>John Doe</name>\n  <age>30</age>\n  <email>john@example.com</email>\n</root>\n```\n- Custom root element\n- Formatted output\n- Configurable indentation\n\n#### CSV/TSV\n```csv\nkey,value\nname,\"John Doe\"\nage,30\nemail,\"john@example.com\"\n```\n- Headers optional\n- Custom delimiters\n- Quote all fields option\n\n#### TOML\n```toml\nname = \"John Doe\"\nage = 30\nemail = \"john@example.com\"\n```\n- Array of tables support\n- Nested sections\n- Type preservation\n\n#### Properties\n```properties\nname=John Doe\nage=30\nemail=john@example.com\n```\n- Flat key-value pairs\n- Nested object flattening\n- Array serialization\n\n#### Environment Variables\n```bash\nNAME=\"John Doe\"\nAGE=\"30\"\nEMAIL=\"john@example.com\"\n```\n- Uppercase keys\n- Quoted values\n- Nested object flattening\n\n### Export Options\n\n#### General\n- **Filename**: Custom output filename\n- **Indentation**: 0, 2, 4, or 8 spaces\n- **Include Metadata**: Add export timestamp and settings\n- **Flatten Arrays**: Convert nested arrays to flat structure\n\n#### Format-Specific\n- **XML Root Element**: Custom root tag name\n- **YAML Flow Style**: Compact vs block format\n- **CSV Headers**: Include column headers\n- **CSV Quote All**: Quote all fields vs only when needed\n- **Custom Delimiter**: For CSV (comma, semicolon, pipe, etc.)\n- **TOML Array Tables**: Use array of tables format\n\n### Live Preview\n- See export results before downloading\n- Real-time updates as options change\n- Error detection and reporting\n- Copy to clipboard option\n\n---\n\n## API Reference\n\n### Performance Classes\n\n#### JsonWorker\n```javascript\nconst worker = new JsonWorker();\nconst result = await worker.processJson('format', jsonString);\nworker.terminate();\n```\n\n#### StreamingJsonParser\n```javascript\nconst parser = new StreamingJsonParser();\nparser.parseChunk(chunk, (obj) => {\n  console.log('Parsed object:', obj);\n});\nconst remaining = parser.flush();\n```\n\n#### PerformanceMonitor\n```javascript\nconst timer = PerformanceMonitor.startTimer('operation');\n// ... perform operation\nconst duration = timer();\nconst metrics = PerformanceMonitor.getMetrics('operation');\n```\n\n### Keyboard Navigation\n\n#### useKeyboardNavigation Hook\n```javascript\nconst { addShortcut, removeShortcut, showShortcutsHelp } = useKeyboardNavigation({\n  shortcuts: [...],\n  enableGlobalShortcuts: true,\n  enableArrowNavigation: true,\n  enableTabNavigation: true,\n  enableEscapeHandling: true\n});\n```\n\n#### KeyboardNavigationManager\n```javascript\nconst manager = new KeyboardNavigationManager(options);\nmanager.addShortcut(shortcut);\nmanager.enable();\nmanager.disable();\nmanager.destroy();\n```\n\n### Utility Functions\n\n#### debounce\n```javascript\nconst debouncedFunction = debounce(originalFunction, 300);\n```\n\n#### throttle\n```javascript\nconst throttledFunction = throttle(originalFunction, 100);\n```\n\n---\n\n## Troubleshooting\n\n### Performance Issues\n\n**Problem**: App becomes slow with large JSON files\n**Solution**: \n1. Enable Performance Mode in settings\n2. Use streaming processing for files >10MB\n3. Reduce concurrency in batch processing\n\n**Problem**: Browser runs out of memory\n**Solution**:\n1. Use MemoryEfficientJson for large files\n2. Process files in smaller batches\n3. Clear browser cache and restart\n\n### Validation Issues\n\n**Problem**: Custom validation rules not working\n**Solution**:\n1. Check JSONPath syntax (use online validator)\n2. Verify rule condition syntax\n3. Enable rule and check severity level\n\n**Problem**: Validation is too slow\n**Solution**:\n1. Reduce number of active rules\n2. Optimize custom logic conditions\n3. Use more specific JSONPath expressions\n\n### Export Issues\n\n**Problem**: Export fails for certain formats\n**Solution**:\n1. Check JSON validity first\n2. Verify format-specific options\n3. Try with smaller JSON sample\n\n**Problem**: Exported file is corrupted\n**Solution**:\n1. Use live preview to verify output\n2. Check browser download settings\n3. Try different export format\n\n### Keyboard Navigation Issues\n\n**Problem**: Shortcuts not working\n**Solution**:\n1. Check if focus is in text input\n2. Verify browser doesn't override shortcuts\n3. Use Ctrl+/ to see available shortcuts\n\n**Problem**: Focus gets trapped\n**Solution**:\n1. Press Escape to exit focus trap\n2. Click outside modal/dialog\n3. Refresh page if needed\n\n### Browser Compatibility\n\n**Supported Browsers**:\n- Chrome 90+\n- Firefox 88+\n- Safari 14+\n- Edge 90+\n\n**Known Issues**:\n- Web Workers may not work in some older browsers\n- File downloads may be blocked by popup blockers\n- Some keyboard shortcuts may conflict with browser shortcuts\n\n### Getting Help\n\n1. **Documentation**: Check this guide first\n2. **GitHub Issues**: Search existing issues or create new one\n3. **Community**: Join GitHub Discussions\n4. **Email**: support@stablejson.com for direct help\n\n---\n\n## Contributing\n\nSee [CONTRIBUTING.md](CONTRIBUTING.md) for development setup and contribution guidelines.\n\n## License\n\nMIT License - see [LICENSE](LICENSE) file for details.\n\n---\n\n*Last updated: January 2025*  \n*Version: 1.5.0*